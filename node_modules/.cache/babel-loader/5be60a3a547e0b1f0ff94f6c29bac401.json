{"ast":null,"code":"import { BlendFunction as e, BloomEffect as t, BrightnessContrastEffect as n, ChromaticAberrationEffect as r, ColorAverageEffect as i, ColorDepthEffect as o, DepthEffect as l, EffectComposer as c, RenderPass as s, NormalPass as a, EffectPass as u, DepthOfFieldEffect as d, DotScreenEffect as m, GlitchEffect as f, GlitchMode as p, GodRaysEffect as h, GridEffect as g, HueSaturationEffect as b, NoiseEffect as w, OutlineEffect as E, PixelationEffect as y, ScanlineEffect as v, SelectiveBloomEffect as S, SepiaEffect as x, SSAOEffect as T, SMAAPreset as j, EdgeDetectionMode as C, SMAAImageLoader as L, SMAAEffect as P, TextureEffect as A, ToneMappingEffect as R, VignetteEffect as O, ShockWaveEffect as z, LUTEffect as F } from \"postprocessing\";\nimport B, { forwardRef as D, useMemo as I, useLayoutEffect as M, createContext as k, useEffect as N, useRef as _, useImperativeHandle as G, useContext as H } from \"react\";\nimport { Vector2 as U, Vector3 as Y, TextureLoader as q, sRGBEncoding as V, RepeatWrapping as W } from \"three\";\nimport { useThree as J, useFrame as K, useLoader as Q } from \"@react-three/fiber\";\n\nconst X = function (t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.NORMAL;\n  return D(function (_ref, o) {\n    let {\n      blendFunction: e,\n      opacity: r,\n      ...i\n    } = _ref;\n    const l = I(() => new t(i), [i]);\n    return M(() => {\n      l.blendMode.blendFunction = e || n, void 0 !== r && (l.blendMode.opacity.value = r);\n    }, [e, l.blendMode, r]), B.createElement(\"primitive\", {\n      ref: o,\n      object: l,\n      dispose: null\n    });\n  });\n},\n      Z = (e, t) => {\n  const n = e[t];\n  return I(() => {\n    if (n instanceof U) return new U().set(n.x, n.y);\n\n    if (Array.isArray(n)) {\n      const [e, t] = n;\n      return new U().set(e, t);\n    }\n  }, [n]);\n},\n      $ = () => {\n  try {\n    const e = document.createElement(\"canvas\");\n    return !(!window.WebGL2RenderingContext || !e.getContext(\"webgl2\"));\n  } catch (e) {\n    return !1;\n  }\n},\n      ee = X(t, e.SCREEN),\n      te = X(n),\n      ne = D(function (e, t) {\n  const n = Z(e, \"offset\"),\n        i = I(() => new r({ ...e,\n    offset: n\n  }), [n, e]);\n  return B.createElement(\"primitive\", {\n    ref: t,\n    object: i,\n    dispose: null\n  });\n}),\n      re = D(function (_ref2, n) {\n  let {\n    blendFunction: t = e.NORMAL\n  } = _ref2;\n  const r = I(() => new i(t), [t]);\n  return B.createElement(\"primitive\", {\n    ref: n,\n    object: r,\n    dispose: null\n  });\n}),\n      ie = X(o),\n      oe = X(l),\n      le = k(null),\n      ce = B.memo(D((_ref3, p) => {\n  let {\n    children: e,\n    camera: t,\n    scene: n,\n    renderPriority: r = 1,\n    autoClear: i = !0,\n    depthBuffer: o,\n    disableNormalPass: l,\n    stencilBuffer: d,\n    multisampling: m = 8,\n    frameBufferType: f\n  } = _ref3;\n  const {\n    gl: h,\n    scene: g,\n    camera: b,\n    size: w\n  } = J();\n  n = n || g, t = t || b;\n  const [E, y] = I(() => {\n    const e = new c(h, {\n      depthBuffer: o,\n      stencilBuffer: d,\n      multisampling: $() ? m : 0,\n      frameBufferType: f\n    });\n    e.addPass(new s(n, t));\n    const r = l ? null : new a(n, t);\n    return r && e.addPass(r), [e, r];\n  }, [t, h, o, d, m, f, n, l]);\n  N(() => null == E ? void 0 : E.setSize(w.width, w.height), [E, w]), K((e, t) => (h.autoClear = i, void E.render(t)), r);\n\n  const v = _(null);\n\n  N(() => {\n    let e;\n    return v.current && v.current.__r3f && E && (e = new u(t, ...v.current.__r3f.objects), E.addPass(e), e.renderToScreen = !0), () => {\n      e && (null == E || E.removePass(e));\n    };\n  }, [E, e, t]);\n  const S = I(() => ({\n    composer: E,\n    normalPass: y,\n    camera: t,\n    scene: n\n  }), [E, y, t, n]);\n  return G(p, () => E, [E]), B.createElement(le.Provider, {\n    value: S\n  }, B.createElement(\"group\", {\n    ref: v\n  }, e));\n})),\n      se = D(function (_ref4, r) {\n  let {\n    target: e,\n    depthTexture: t,\n    ...n\n  } = _ref4;\n  const {\n    camera: i\n  } = H(le),\n        o = I(() => new d(i, n), [i, n]);\n  return M(() => {\n    if (e) {\n      const t = e instanceof Y ? new Y().set(e.x, e.y, e.z) : new Y().set(e[0], e[1], e[2]);\n      o.target = t;\n    }\n\n    t && o.setDepthTexture(t.texture, t.packing);\n  }, [e, t, o]), B.createElement(\"primitive\", {\n    ref: r,\n    object: o,\n    dispose: null\n  });\n}),\n      ae = X(m),\n      ue = D(function (_ref5, n) {\n  let {\n    active: e = !0,\n    ...t\n  } = _ref5;\n  const r = Z(t, \"delay\"),\n        i = Z(t, \"duration\"),\n        o = Z(t, \"strength\"),\n        l = I(() => new f({ ...t,\n    delay: r,\n    duration: i,\n    strength: o\n  }), [r, i, t, o]);\n  return M(() => {\n    l.mode = e ? t.mode || p.SPORADIC : p.DISABLED;\n  }, [e, l, t.mode]), B.createElement(\"primitive\", {\n    ref: n,\n    object: l,\n    dispose: null\n  });\n}),\n      de = D(function (e, t) {\n  const {\n    camera: n\n  } = H(le),\n        r = I(() => new h(n, e.sun, e), [n, e]);\n  return B.createElement(\"primitive\", {\n    ref: t,\n    object: r,\n    dispose: null\n  });\n}),\n      me = D(function (_ref6, n) {\n  let {\n    size: e,\n    ...t\n  } = _ref6;\n  const r = I(() => new g(t), [t]);\n  return M(() => {\n    e && r.setSize(e.width, e.height);\n  }, [r, e]), B.createElement(\"primitive\", {\n    ref: n,\n    object: r,\n    dispose: null\n  });\n}),\n      fe = X(b),\n      pe = X(w, e.COLOR_DODGE),\n      he = D(function (_ref7, p) {\n  let {\n    selection: e = [],\n    selectionLayer: t = 10,\n    blendFunction: n,\n    patternTexture: r,\n    edgeStrength: i,\n    pulseSpeed: o,\n    visibleEdgeColor: l,\n    hiddenEdgeColor: c,\n    width: s,\n    height: a,\n    kernelSize: u,\n    blur: d,\n    xRay: m,\n    ...f\n  } = _ref7;\n  const {\n    scene: h,\n    camera: g\n  } = H(le),\n        b = I(() => new E(h, g, {\n    blendFunction: n,\n    patternTexture: r,\n    edgeStrength: i,\n    pulseSpeed: o,\n    visibleEdgeColor: l,\n    hiddenEdgeColor: c,\n    width: s,\n    height: a,\n    kernelSize: u,\n    blur: d,\n    xRay: m\n  }), [n, d, g, i, a, c, u, r, o, h, l, s, m]);\n  return N(() => {\n    b.clearSelection(), b.setSelection(Array.isArray(e) ? e.map(e => e.current) : [e.current]);\n  }, [b, e]), N(() => {\n    b.selectionLayer = t;\n  }, [b, t]), B.createElement(\"primitive\", {\n    ref: p,\n    object: b,\n    dispose: null\n  });\n}),\n      ge = D(function (_ref8, t) {\n  let {\n    granularity: e = 5\n  } = _ref8;\n  const n = I(() => new y(e), [e]);\n  return B.createElement(\"primitive\", {\n    ref: t,\n    object: n,\n    dispose: null\n  });\n}),\n      be = X(v, e.OVERLAY),\n      we = D(function (_ref9, u) {\n  let {\n    selection: t = [],\n    selectionLayer: n = 10,\n    lights: r = [],\n    luminanceThreshold: i,\n    luminanceSmoothing: o,\n    intensity: l,\n    width: c,\n    height: s,\n    kernelSize: a\n  } = _ref9;\n  0 === r.length && console.warn(\"SelectiveBloom requires lights to work.\");\n  const {\n    scene: d,\n    camera: m\n  } = H(le),\n        f = I(() => new S(d, m, {\n    blendFunction: e.SCREEN,\n    luminanceThreshold: i,\n    luminanceSmoothing: o,\n    intensity: l,\n    width: c,\n    height: s,\n    kernelSize: a\n  }), [m, s, l, a, o, i, d, c]);\n  return N(() => {\n    f.selection.set(Array.isArray(t) ? t.map(e => e.current) : [t.current]);\n  }, [f, t]), N(() => {\n    f.selection.layer = n;\n  }, [f, n]), N(() => (r.forEach(e => ((e, t) => {\n    e.current && e.current.layers.enable(t.selection.layer);\n  })(e, f)), () => r.forEach(e => ((e, t) => {\n    e.current && e.current.layers.disable(t.selection.layer);\n  })(e, f))), [f, r, n]), B.createElement(\"primitive\", {\n    ref: u,\n    object: f,\n    dispose: null\n  });\n}),\n      Ee = X(x),\n      ye = D(function (t, n) {\n  const {\n    camera: r,\n    normalPass: i\n  } = H(le),\n        o = I(() => null === i ? (console.error(\"Please enable the NormalPass in the EffectComposer in order to use SSAO.\"), null) : new T(r, i.renderTarget.texture, {\n    blendFunction: e.MULTIPLY,\n    samples: 30,\n    rings: 4,\n    distanceThreshold: 1,\n    distanceFalloff: 0,\n    rangeThreshold: .5,\n    rangeFalloff: .1,\n    luminanceInfluence: .9,\n    radius: 20,\n    scale: .5,\n    bias: .5,\n    ...t\n  }), [r, i, t]);\n  return B.createElement(\"primitive\", {\n    ref: n,\n    object: o,\n    dispose: null\n  });\n}),\n      ve = D(function (_ref10, n) {\n  let {\n    preset: e = j.HIGH,\n    edgeDetectionMode: t = C.COLOR\n  } = _ref10;\n  const r = Q(L, \"\"),\n        i = I(() => new P(...r, e, t), [r, e, t]);\n  return B.createElement(\"primitive\", {\n    ref: n,\n    object: i,\n    dispose: null\n  });\n}),\n      Se = D(function (_ref11, r) {\n  let {\n    textureSrc: e,\n    texture: t,\n    ...n\n  } = _ref11;\n  const i = Q(q, e);\n  M(() => {\n    i.encoding = V, i.wrapS = i.wrapT = W;\n  }, [i]);\n  const o = I(() => new A({ ...n,\n    texture: i || t\n  }), [n, i, t]);\n  return B.createElement(\"primitive\", {\n    ref: r,\n    object: o,\n    dispose: null\n  });\n}),\n      xe = X(R),\n      Te = X(O),\n      je = X(z),\n      Ce = D(function (_ref12, r) {\n  let {\n    lut: e,\n    tetrahedralInterpolation: t,\n    ...n\n  } = _ref12;\n  const i = I(() => new F(e, n), [e, n]);\n  return M(() => {\n    e && i.setLUT(e), t && i.setTetrahedralInterpolationEnabled(t);\n  }, [i, e, t]), B.createElement(\"primitive\", {\n    ref: r,\n    object: i,\n    dispose: null\n  });\n});\n\nexport { ee as Bloom, te as BrightnessContrast, ne as ChromaticAberration, re as ColorAverage, ie as ColorDepth, oe as Depth, se as DepthOfField, ae as DotScreen, ce as EffectComposer, le as EffectComposerContext, ue as Glitch, de as GodRays, me as Grid, fe as HueSaturation, Ce as LUT, pe as Noise, he as Outline, ge as Pixelation, ve as SMAA, ye as SSAO, be as Scanline, we as SelectiveBloom, Ee as Sepia, je as ShockWave, Se as Texture, xe as ToneMapping, Te as Vignette };","map":{"version":3,"sources":["/home/marie/Documents/code/personnal_website/node_modules/@react-three/postprocessing/dist/index.js"],"names":["BlendFunction","e","BloomEffect","t","BrightnessContrastEffect","n","ChromaticAberrationEffect","r","ColorAverageEffect","i","ColorDepthEffect","o","DepthEffect","l","EffectComposer","c","RenderPass","s","NormalPass","a","EffectPass","u","DepthOfFieldEffect","d","DotScreenEffect","m","GlitchEffect","f","GlitchMode","p","GodRaysEffect","h","GridEffect","g","HueSaturationEffect","b","NoiseEffect","w","OutlineEffect","E","PixelationEffect","y","ScanlineEffect","v","SelectiveBloomEffect","S","SepiaEffect","x","SSAOEffect","T","SMAAPreset","j","EdgeDetectionMode","C","SMAAImageLoader","L","SMAAEffect","P","TextureEffect","A","ToneMappingEffect","R","VignetteEffect","O","ShockWaveEffect","z","LUTEffect","F","B","forwardRef","D","useMemo","I","useLayoutEffect","M","createContext","k","useEffect","N","useRef","_","useImperativeHandle","G","useContext","H","Vector2","U","Vector3","Y","TextureLoader","q","sRGBEncoding","V","RepeatWrapping","W","useThree","J","useFrame","K","useLoader","Q","X","NORMAL","blendFunction","opacity","blendMode","value","createElement","ref","object","dispose","Z","set","Array","isArray","$","document","window","WebGL2RenderingContext","getContext","ee","SCREEN","te","ne","offset","re","ie","oe","le","ce","memo","children","camera","scene","renderPriority","autoClear","depthBuffer","disableNormalPass","stencilBuffer","multisampling","frameBufferType","gl","size","addPass","setSize","width","height","render","current","__r3f","objects","renderToScreen","removePass","composer","normalPass","Provider","se","target","depthTexture","setDepthTexture","texture","packing","ae","ue","active","delay","duration","strength","mode","SPORADIC","DISABLED","de","sun","me","fe","pe","COLOR_DODGE","he","selection","selectionLayer","patternTexture","edgeStrength","pulseSpeed","visibleEdgeColor","hiddenEdgeColor","kernelSize","blur","xRay","clearSelection","setSelection","map","ge","granularity","be","OVERLAY","we","lights","luminanceThreshold","luminanceSmoothing","intensity","length","console","warn","layer","forEach","layers","enable","disable","Ee","ye","error","renderTarget","MULTIPLY","samples","rings","distanceThreshold","distanceFalloff","rangeThreshold","rangeFalloff","luminanceInfluence","radius","scale","bias","ve","preset","HIGH","edgeDetectionMode","COLOR","Se","textureSrc","encoding","wrapS","wrapT","xe","Te","je","Ce","lut","tetrahedralInterpolation","setLUT","setTetrahedralInterpolationEnabled","Bloom","BrightnessContrast","ChromaticAberration","ColorAverage","ColorDepth","Depth","DepthOfField","DotScreen","EffectComposerContext","Glitch","GodRays","Grid","HueSaturation","LUT","Noise","Outline","Pixelation","SMAA","SSAO","Scanline","SelectiveBloom","Sepia","ShockWave","Texture","ToneMapping","Vignette"],"mappings":"AAAA,SAAOA,aAAa,IAAIC,CAAxB,EAA0BC,WAAW,IAAIC,CAAzC,EAA2CC,wBAAwB,IAAIC,CAAvE,EAAyEC,yBAAyB,IAAIC,CAAtG,EAAwGC,kBAAkB,IAAIC,CAA9H,EAAgIC,gBAAgB,IAAIC,CAApJ,EAAsJC,WAAW,IAAIC,CAArK,EAAuKC,cAAc,IAAIC,CAAzL,EAA2LC,UAAU,IAAIC,CAAzM,EAA2MC,UAAU,IAAIC,CAAzN,EAA2NC,UAAU,IAAIC,CAAzO,EAA2OC,kBAAkB,IAAIC,CAAjQ,EAAmQC,eAAe,IAAIC,CAAtR,EAAwRC,YAAY,IAAIC,CAAxS,EAA0SC,UAAU,IAAIC,CAAxT,EAA0TC,aAAa,IAAIC,CAA3U,EAA6UC,UAAU,IAAIC,CAA3V,EAA6VC,mBAAmB,IAAIC,CAApX,EAAsXC,WAAW,IAAIC,CAArY,EAAuYC,aAAa,IAAIC,CAAxZ,EAA0ZC,gBAAgB,IAAIC,CAA9a,EAAgbC,cAAc,IAAIC,CAAlc,EAAocC,oBAAoB,IAAIC,CAA5d,EAA8dC,WAAW,IAAIC,CAA7e,EAA+eC,UAAU,IAAIC,CAA7f,EAA+fC,UAAU,IAAIC,CAA7gB,EAA+gBC,iBAAiB,IAAIC,CAApiB,EAAsiBC,eAAe,IAAIC,CAAzjB,EAA2jBC,UAAU,IAAIC,CAAzkB,EAA2kBC,aAAa,IAAIC,CAA5lB,EAA8lBC,iBAAiB,IAAIC,CAAnnB,EAAqnBC,cAAc,IAAIC,CAAvoB,EAAyoBC,eAAe,IAAIC,CAA5pB,EAA8pBC,SAAS,IAAIC,CAA3qB,QAAirB,gBAAjrB;AAAksB,OAAOC,CAAP,IAAUC,UAAU,IAAIC,CAAxB,EAA0BC,OAAO,IAAIC,CAArC,EAAuCC,eAAe,IAAIC,CAA1D,EAA4DC,aAAa,IAAIC,CAA7E,EAA+EC,SAAS,IAAIC,CAA5F,EAA8FC,MAAM,IAAIC,CAAxG,EAA0GC,mBAAmB,IAAIC,CAAjI,EAAmIC,UAAU,IAAIC,CAAjJ,QAAuJ,OAAvJ;AAA+J,SAAOC,OAAO,IAAIC,CAAlB,EAAoBC,OAAO,IAAIC,CAA/B,EAAiCC,aAAa,IAAIC,CAAlD,EAAoDC,YAAY,IAAIC,CAApE,EAAsEC,cAAc,IAAIC,CAAxF,QAA8F,OAA9F;AAAsG,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,QAAQ,IAAIC,CAAjC,EAAmCC,SAAS,IAAIC,CAAhD,QAAsD,oBAAtD;;AAA2E,MAAMC,CAAC,GAAC,UAAClG,CAAD;AAAA,MAAGE,CAAH,uEAAKJ,CAAC,CAACqG,MAAP;AAAA,SAAgBhC,CAAC,CAAE,gBAA0C3D,CAA1C,EAA4C;AAAA,QAAnC;AAAC4F,MAAAA,aAAa,EAACtG,CAAf;AAAiBuG,MAAAA,OAAO,EAACjG,CAAzB;AAA2B,SAAGE;AAA9B,KAAmC;AAAC,UAAMI,CAAC,GAAC2D,CAAC,CAAE,MAAI,IAAIrE,CAAJ,CAAMM,CAAN,CAAN,EAAgB,CAACA,CAAD,CAAhB,CAAT;AAA8B,WAAOiE,CAAC,CAAE,MAAI;AAAC7D,MAAAA,CAAC,CAAC4F,SAAF,CAAYF,aAAZ,GAA0BtG,CAAC,IAAEI,CAA7B,EAA+B,KAAK,CAAL,KAASE,CAAT,KAAaM,CAAC,CAAC4F,SAAF,CAAYD,OAAZ,CAAoBE,KAApB,GAA0BnG,CAAvC,CAA/B;AAAyE,KAAhF,EAAkF,CAACN,CAAD,EAAGY,CAAC,CAAC4F,SAAL,EAAelG,CAAf,CAAlF,CAAD,EAAsG6D,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,MAAAA,GAAG,EAACjG,CAAL;AAAOkG,MAAAA,MAAM,EAAChG,CAAd;AAAgBiG,MAAAA,OAAO,EAAC;AAAxB,KAA5B,CAA7G;AAAwK,GAArP,CAAjB;AAAA,CAAR;AAAA,MAAiRC,CAAC,GAAC,CAAC9G,CAAD,EAAGE,CAAH,KAAO;AAAC,QAAME,CAAC,GAACJ,CAAC,CAACE,CAAD,CAAT;AAAa,SAAOqE,CAAC,CAAE,MAAI;AAAC,QAAGnE,CAAC,YAAYiF,CAAhB,EAAkB,OAAO,IAAIA,CAAJ,EAAD,CAAQ0B,GAAR,CAAY3G,CAAC,CAAC0C,CAAd,EAAgB1C,CAAC,CAACoC,CAAlB,CAAN;;AAA2B,QAAGwE,KAAK,CAACC,OAAN,CAAc7G,CAAd,CAAH,EAAoB;AAAC,YAAK,CAACJ,CAAD,EAAGE,CAAH,IAAME,CAAX;AAAa,aAAO,IAAIiF,CAAJ,EAAD,CAAQ0B,GAAR,CAAY/G,CAAZ,EAAcE,CAAd,CAAN;AAAuB;AAAC,GAA9G,EAAgH,CAACE,CAAD,CAAhH,CAAR;AAA6H,CAAra;AAAA,MAAsa8G,CAAC,GAAC,MAAI;AAAC,MAAG;AAAC,UAAMlH,CAAC,GAACmH,QAAQ,CAACT,aAAT,CAAuB,QAAvB,CAAR;AAAyC,WAAM,EAAE,CAACU,MAAM,CAACC,sBAAR,IAAgC,CAACrH,CAAC,CAACsH,UAAF,CAAa,QAAb,CAAnC,CAAN;AAAiE,GAA9G,CAA8G,OAAMtH,CAAN,EAAQ;AAAC,WAAM,CAAC,CAAP;AAAS;AAAC,CAA9iB;AAAA,MAA+iBuH,EAAE,GAACnB,CAAC,CAAClG,CAAD,EAAGF,CAAC,CAACwH,MAAL,CAAnjB;AAAA,MAAgkBC,EAAE,GAACrB,CAAC,CAAChG,CAAD,CAApkB;AAAA,MAAwkBsH,EAAE,GAACrD,CAAC,CAAE,UAASrE,CAAT,EAAWE,CAAX,EAAa;AAAC,QAAME,CAAC,GAAC0G,CAAC,CAAC9G,CAAD,EAAG,QAAH,CAAT;AAAA,QAAsBQ,CAAC,GAAC+D,CAAC,CAAE,MAAI,IAAIjE,CAAJ,CAAM,EAAC,GAAGN,CAAJ;AAAM2H,IAAAA,MAAM,EAACvH;AAAb,GAAN,CAAN,EAA8B,CAACA,CAAD,EAAGJ,CAAH,CAA9B,CAAzB;AAA8D,SAAOmE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACzG,CAAL;AAAO0G,IAAAA,MAAM,EAACpG,CAAd;AAAgBqG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAAhJ,CAA5kB;AAAA,MAA+tBe,EAAE,GAACvD,CAAC,CAAE,iBAAoCjE,CAApC,EAAsC;AAAA,MAA7B;AAACkG,IAAAA,aAAa,EAACpG,CAAC,GAACF,CAAC,CAACqG;AAAnB,GAA6B;AAAC,QAAM/F,CAAC,GAACiE,CAAC,CAAE,MAAI,IAAI/D,CAAJ,CAAMN,CAAN,CAAN,EAAgB,CAACA,CAAD,CAAhB,CAAT;AAA8B,SAAOiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvG,CAAL;AAAOwG,IAAAA,MAAM,EAACtG,CAAd;AAAgBuG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAAzI,CAAnuB;AAAA,MAA+2BgB,EAAE,GAACzB,CAAC,CAAC1F,CAAD,CAAn3B;AAAA,MAAu3BoH,EAAE,GAAC1B,CAAC,CAACxF,CAAD,CAA33B;AAAA,MAA+3BmH,EAAE,GAACpD,CAAC,CAAC,IAAD,CAAn4B;AAAA,MAA04BqD,EAAE,GAAC7D,CAAC,CAAC8D,IAAF,CAAO5D,CAAC,CAAE,QAAuJzC,CAAvJ,KAA2J;AAAA,MAA1J;AAACsG,IAAAA,QAAQ,EAAClI,CAAV;AAAYmI,IAAAA,MAAM,EAACjI,CAAnB;AAAqBkI,IAAAA,KAAK,EAAChI,CAA3B;AAA6BiI,IAAAA,cAAc,EAAC/H,CAAC,GAAC,CAA9C;AAAgDgI,IAAAA,SAAS,EAAC9H,CAAC,GAAC,CAAC,CAA7D;AAA+D+H,IAAAA,WAAW,EAAC7H,CAA3E;AAA6E8H,IAAAA,iBAAiB,EAAC5H,CAA/F;AAAiG6H,IAAAA,aAAa,EAACnH,CAA/G;AAAiHoH,IAAAA,aAAa,EAAClH,CAAC,GAAC,CAAjI;AAAmImH,IAAAA,eAAe,EAACjH;AAAnJ,GAA0J;AAAC,QAAK;AAACkH,IAAAA,EAAE,EAAC9G,CAAJ;AAAMsG,IAAAA,KAAK,EAACpG,CAAZ;AAAcmG,IAAAA,MAAM,EAACjG,CAArB;AAAuB2G,IAAAA,IAAI,EAACzG;AAA5B,MAA+B2D,CAAC,EAArC;AAAwC3F,EAAAA,CAAC,GAACA,CAAC,IAAE4B,CAAL,EAAO9B,CAAC,GAACA,CAAC,IAAEgC,CAAZ;AAAc,QAAK,CAACI,CAAD,EAAGE,CAAH,IAAM+B,CAAC,CAAE,MAAI;AAAC,UAAMvE,CAAC,GAAC,IAAIc,CAAJ,CAAMgB,CAAN,EAAQ;AAACyG,MAAAA,WAAW,EAAC7H,CAAb;AAAe+H,MAAAA,aAAa,EAACnH,CAA7B;AAA+BoH,MAAAA,aAAa,EAACxB,CAAC,KAAG1F,CAAH,GAAK,CAAnD;AAAqDmH,MAAAA,eAAe,EAACjH;AAArE,KAAR,CAAR;AAAyF1B,IAAAA,CAAC,CAAC8I,OAAF,CAAU,IAAI9H,CAAJ,CAAMZ,CAAN,EAAQF,CAAR,CAAV;AAAsB,UAAMI,CAAC,GAACM,CAAC,GAAC,IAAD,GAAM,IAAIM,CAAJ,CAAMd,CAAN,EAAQF,CAAR,CAAf;AAA0B,WAAOI,CAAC,IAAEN,CAAC,CAAC8I,OAAF,CAAUxI,CAAV,CAAH,EAAgB,CAACN,CAAD,EAAGM,CAAH,CAAvB;AAA6B,GAA7K,EAA+K,CAACJ,CAAD,EAAG4B,CAAH,EAAKpB,CAAL,EAAOY,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAatB,CAAb,EAAeQ,CAAf,CAA/K,CAAZ;AAA8MiE,EAAAA,CAAC,CAAE,MAAI,QAAMvC,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACyG,OAAF,CAAU3G,CAAC,CAAC4G,KAAZ,EAAkB5G,CAAC,CAAC6G,MAApB,CAArB,EAAkD,CAAC3G,CAAD,EAAGF,CAAH,CAAlD,CAAD,EAA0D6D,CAAC,CAAE,CAACjG,CAAD,EAAGE,CAAH,MAAQ4B,CAAC,CAACwG,SAAF,GAAY9H,CAAZ,EAAc,KAAK8B,CAAC,CAAC4G,MAAF,CAAShJ,CAAT,CAA3B,CAAF,EAA2CI,CAA3C,CAA3D;;AAAyG,QAAMoC,CAAC,GAACqC,CAAC,CAAC,IAAD,CAAT;;AAAgBF,EAAAA,CAAC,CAAE,MAAI;AAAC,QAAI7E,CAAJ;AAAM,WAAO0C,CAAC,CAACyG,OAAF,IAAWzG,CAAC,CAACyG,OAAF,CAAUC,KAArB,IAA4B9G,CAA5B,KAAgCtC,CAAC,GAAC,IAAIoB,CAAJ,CAAMlB,CAAN,EAAQ,GAAGwC,CAAC,CAACyG,OAAF,CAAUC,KAAV,CAAgBC,OAA3B,CAAF,EAAsC/G,CAAC,CAACwG,OAAF,CAAU9I,CAAV,CAAtC,EAAmDA,CAAC,CAACsJ,cAAF,GAAiB,CAAC,CAArG,GAAwG,MAAI;AAACtJ,MAAAA,CAAC,KAAG,QAAMsC,CAAN,IAASA,CAAC,CAACiH,UAAF,CAAavJ,CAAb,CAAZ,CAAD;AAA8B,KAAlJ;AAAmJ,GAAhK,EAAkK,CAACsC,CAAD,EAAGtC,CAAH,EAAKE,CAAL,CAAlK,CAAD;AAA4K,QAAM0C,CAAC,GAAC2B,CAAC,CAAE,OAAK;AAACiF,IAAAA,QAAQ,EAAClH,CAAV;AAAYmH,IAAAA,UAAU,EAACjH,CAAvB;AAAyB2F,IAAAA,MAAM,EAACjI,CAAhC;AAAkCkI,IAAAA,KAAK,EAAChI;AAAxC,GAAL,CAAF,EAAoD,CAACkC,CAAD,EAAGE,CAAH,EAAKtC,CAAL,EAAOE,CAAP,CAApD,CAAT;AAAwE,SAAO6E,CAAC,CAACrD,CAAD,EAAI,MAAIU,CAAR,EAAW,CAACA,CAAD,CAAX,CAAD,EAAiB6B,CAAC,CAACuC,aAAF,CAAgBqB,EAAE,CAAC2B,QAAnB,EAA4B;AAACjD,IAAAA,KAAK,EAAC7D;AAAP,GAA5B,EAAsCuB,CAAC,CAACuC,aAAF,CAAgB,OAAhB,EAAwB;AAACC,IAAAA,GAAG,EAACjE;AAAL,GAAxB,EAAgC1C,CAAhC,CAAtC,CAAxB;AAAkG,CAAj3B,CAAR,CAA74B;AAAA,MAA0wD2J,EAAE,GAACtF,CAAC,CAAE,iBAAwC/D,CAAxC,EAA0C;AAAA,MAAjC;AAACsJ,IAAAA,MAAM,EAAC5J,CAAR;AAAU6J,IAAAA,YAAY,EAAC3J,CAAvB;AAAyB,OAAGE;AAA5B,GAAiC;AAAC,QAAK;AAAC+H,IAAAA,MAAM,EAAC3H;AAAR,MAAW2E,CAAC,CAAC4C,EAAD,CAAjB;AAAA,QAAsBrH,CAAC,GAAC6D,CAAC,CAAE,MAAI,IAAIjD,CAAJ,CAAMd,CAAN,EAAQJ,CAAR,CAAN,EAAkB,CAACI,CAAD,EAAGJ,CAAH,CAAlB,CAAzB;AAAkD,SAAOqE,CAAC,CAAE,MAAI;AAAC,QAAGzE,CAAH,EAAK;AAAC,YAAME,CAAC,GAACF,CAAC,YAAYuF,CAAb,GAAgB,IAAIA,CAAJ,EAAD,CAAQwB,GAAR,CAAY/G,CAAC,CAAC8C,CAAd,EAAgB9C,CAAC,CAACwC,CAAlB,EAAoBxC,CAAC,CAACgE,CAAtB,CAAf,GAAyC,IAAIuB,CAAJ,EAAD,CAAQwB,GAAR,CAAY/G,CAAC,CAAC,CAAD,CAAb,EAAiBA,CAAC,CAAC,CAAD,CAAlB,EAAsBA,CAAC,CAAC,CAAD,CAAvB,CAAhD;AAA4EU,MAAAA,CAAC,CAACkJ,MAAF,GAAS1J,CAAT;AAAW;;AAAAA,IAAAA,CAAC,IAAEQ,CAAC,CAACoJ,eAAF,CAAkB5J,CAAC,CAAC6J,OAApB,EAA4B7J,CAAC,CAAC8J,OAA9B,CAAH;AAA0C,GAA9I,EAAgJ,CAAChK,CAAD,EAAGE,CAAH,EAAKQ,CAAL,CAAhJ,CAAD,EAA0JyD,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACrG,CAAL;AAAOsG,IAAAA,MAAM,EAAClG,CAAd;AAAgBmG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAjK;AAA4N,CAA3T,CAA9wD;AAAA,MAA4kEoD,EAAE,GAAC7D,CAAC,CAAC5E,CAAD,CAAhlE;AAAA,MAAolE0I,EAAE,GAAC7F,CAAC,CAAE,iBAA4BjE,CAA5B,EAA8B;AAAA,MAArB;AAAC+J,IAAAA,MAAM,EAACnK,CAAC,GAAC,CAAC,CAAX;AAAa,OAAGE;AAAhB,GAAqB;AAAC,QAAMI,CAAC,GAACwG,CAAC,CAAC5G,CAAD,EAAG,OAAH,CAAT;AAAA,QAAqBM,CAAC,GAACsG,CAAC,CAAC5G,CAAD,EAAG,UAAH,CAAxB;AAAA,QAAuCQ,CAAC,GAACoG,CAAC,CAAC5G,CAAD,EAAG,UAAH,CAA1C;AAAA,QAAyDU,CAAC,GAAC2D,CAAC,CAAE,MAAI,IAAI7C,CAAJ,CAAM,EAAC,GAAGxB,CAAJ;AAAMkK,IAAAA,KAAK,EAAC9J,CAAZ;AAAc+J,IAAAA,QAAQ,EAAC7J,CAAvB;AAAyB8J,IAAAA,QAAQ,EAAC5J;AAAlC,GAAN,CAAN,EAAmD,CAACJ,CAAD,EAAGE,CAAH,EAAKN,CAAL,EAAOQ,CAAP,CAAnD,CAA5D;AAA0H,SAAO+D,CAAC,CAAE,MAAI;AAAC7D,IAAAA,CAAC,CAAC2J,IAAF,GAAOvK,CAAC,GAACE,CAAC,CAACqK,IAAF,IAAQ3I,CAAC,CAAC4I,QAAX,GAAoB5I,CAAC,CAAC6I,QAA9B;AAAuC,GAA9C,EAAgD,CAACzK,CAAD,EAAGY,CAAH,EAAKV,CAAC,CAACqK,IAAP,CAAhD,CAAD,EAA+DpG,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvG,CAAL;AAAOwG,IAAAA,MAAM,EAAChG,CAAd;AAAgBiG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAtE;AAAiI,CAA5R,CAAxlE;AAAA,MAAu3E6D,EAAE,GAACrG,CAAC,CAAE,UAASrE,CAAT,EAAWE,CAAX,EAAa;AAAC,QAAK;AAACiI,IAAAA,MAAM,EAAC/H;AAAR,MAAW+E,CAAC,CAAC4C,EAAD,CAAjB;AAAA,QAAsBzH,CAAC,GAACiE,CAAC,CAAE,MAAI,IAAIzC,CAAJ,CAAM1B,CAAN,EAAQJ,CAAC,CAAC2K,GAAV,EAAc3K,CAAd,CAAN,EAAwB,CAACI,CAAD,EAAGJ,CAAH,CAAxB,CAAzB;AAAwD,SAAOmE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACzG,CAAL;AAAO0G,IAAAA,MAAM,EAACtG,CAAd;AAAgBuG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAA1I,CAA33E;AAAA,MAAwgF+D,EAAE,GAACvG,CAAC,CAAE,iBAAuBjE,CAAvB,EAAyB;AAAA,MAAhB;AAACyI,IAAAA,IAAI,EAAC7I,CAAN;AAAQ,OAAGE;AAAX,GAAgB;AAAC,QAAMI,CAAC,GAACiE,CAAC,CAAE,MAAI,IAAIvC,CAAJ,CAAM9B,CAAN,CAAN,EAAgB,CAACA,CAAD,CAAhB,CAAT;AAA8B,SAAOuE,CAAC,CAAE,MAAI;AAACzE,IAAAA,CAAC,IAAEM,CAAC,CAACyI,OAAF,CAAU/I,CAAC,CAACgJ,KAAZ,EAAkBhJ,CAAC,CAACiJ,MAApB,CAAH;AAA+B,GAAtC,EAAwC,CAAC3I,CAAD,EAAGN,CAAH,CAAxC,CAAD,EAAgDmE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvG,CAAL;AAAOwG,IAAAA,MAAM,EAACtG,CAAd;AAAgBuG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAvD;AAAkH,CAA5K,CAA5gF;AAAA,MAA2rFgE,EAAE,GAACzE,CAAC,CAAClE,CAAD,CAA/rF;AAAA,MAAmsF4I,EAAE,GAAC1E,CAAC,CAAChE,CAAD,EAAGpC,CAAC,CAAC+K,WAAL,CAAvsF;AAAA,MAAytFC,EAAE,GAAC3G,CAAC,CAAE,iBAAiMzC,CAAjM,EAAmM;AAAA,MAA1L;AAACqJ,IAAAA,SAAS,EAACjL,CAAC,GAAC,EAAb;AAAgBkL,IAAAA,cAAc,EAAChL,CAAC,GAAC,EAAjC;AAAoCoG,IAAAA,aAAa,EAAClG,CAAlD;AAAoD+K,IAAAA,cAAc,EAAC7K,CAAnE;AAAqE8K,IAAAA,YAAY,EAAC5K,CAAlF;AAAoF6K,IAAAA,UAAU,EAAC3K,CAA/F;AAAiG4K,IAAAA,gBAAgB,EAAC1K,CAAlH;AAAoH2K,IAAAA,eAAe,EAACzK,CAApI;AAAsIkI,IAAAA,KAAK,EAAChI,CAA5I;AAA8IiI,IAAAA,MAAM,EAAC/H,CAArJ;AAAuJsK,IAAAA,UAAU,EAACpK,CAAlK;AAAoKqK,IAAAA,IAAI,EAACnK,CAAzK;AAA2KoK,IAAAA,IAAI,EAAClK,CAAhL;AAAkL,OAAGE;AAArL,GAA0L;AAAC,QAAK;AAAC0G,IAAAA,KAAK,EAACtG,CAAP;AAASqG,IAAAA,MAAM,EAACnG;AAAhB,MAAmBmD,CAAC,CAAC4C,EAAD,CAAzB;AAAA,QAA8B7F,CAAC,GAACqC,CAAC,CAAE,MAAI,IAAIjC,CAAJ,CAAMR,CAAN,EAAQE,CAAR,EAAU;AAACsE,IAAAA,aAAa,EAAClG,CAAf;AAAiB+K,IAAAA,cAAc,EAAC7K,CAAhC;AAAkC8K,IAAAA,YAAY,EAAC5K,CAA/C;AAAiD6K,IAAAA,UAAU,EAAC3K,CAA5D;AAA8D4K,IAAAA,gBAAgB,EAAC1K,CAA/E;AAAiF2K,IAAAA,eAAe,EAACzK,CAAjG;AAAmGkI,IAAAA,KAAK,EAAChI,CAAzG;AAA2GiI,IAAAA,MAAM,EAAC/H,CAAlH;AAAoHsK,IAAAA,UAAU,EAACpK,CAA/H;AAAiIqK,IAAAA,IAAI,EAACnK,CAAtI;AAAwIoK,IAAAA,IAAI,EAAClK;AAA7I,GAAV,CAAN,EAAkK,CAACpB,CAAD,EAAGkB,CAAH,EAAKU,CAAL,EAAOxB,CAAP,EAASU,CAAT,EAAWJ,CAAX,EAAaM,CAAb,EAAed,CAAf,EAAiBI,CAAjB,EAAmBoB,CAAnB,EAAqBlB,CAArB,EAAuBI,CAAvB,EAAyBQ,CAAzB,CAAlK,CAAjC;AAAgO,SAAOqD,CAAC,CAAE,MAAI;AAAC3C,IAAAA,CAAC,CAACyJ,cAAF,IAAmBzJ,CAAC,CAAC0J,YAAF,CAAe5E,KAAK,CAACC,OAAN,CAAcjH,CAAd,IAAiBA,CAAC,CAAC6L,GAAF,CAAO7L,CAAC,IAAEA,CAAC,CAACmJ,OAAZ,CAAjB,GAAuC,CAACnJ,CAAC,CAACmJ,OAAH,CAAtD,CAAnB;AAAsF,GAA7F,EAA+F,CAACjH,CAAD,EAAGlC,CAAH,CAA/F,CAAD,EAAuG6E,CAAC,CAAE,MAAI;AAAC3C,IAAAA,CAAC,CAACgJ,cAAF,GAAiBhL,CAAjB;AAAmB,GAA1B,EAA4B,CAACgC,CAAD,EAAGhC,CAAH,CAA5B,CAAxG,EAA2IiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAAC/E,CAAL;AAAOgF,IAAAA,MAAM,EAAC1E,CAAd;AAAgB2E,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAlJ;AAA6M,CAAnnB,CAA7tF;AAAA,MAAm1GiF,EAAE,GAACzH,CAAC,CAAE,iBAA2BnE,CAA3B,EAA6B;AAAA,MAApB;AAAC6L,IAAAA,WAAW,EAAC/L,CAAC,GAAC;AAAf,GAAoB;AAAC,QAAMI,CAAC,GAACmE,CAAC,CAAE,MAAI,IAAI/B,CAAJ,CAAMxC,CAAN,CAAN,EAAgB,CAACA,CAAD,CAAhB,CAAT;AAA8B,SAAOmE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACzG,CAAL;AAAO0G,IAAAA,MAAM,EAACxG,CAAd;AAAgByG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAAhI,CAAv1G;AAAA,MAA09GmF,EAAE,GAAC5F,CAAC,CAAC1D,CAAD,EAAG1C,CAAC,CAACiM,OAAL,CAA99G;AAAA,MAA4+GC,EAAE,GAAC7H,CAAC,CAAE,iBAA8IjD,CAA9I,EAAgJ;AAAA,MAAvI;AAAC6J,IAAAA,SAAS,EAAC/K,CAAC,GAAC,EAAb;AAAgBgL,IAAAA,cAAc,EAAC9K,CAAC,GAAC,EAAjC;AAAoC+L,IAAAA,MAAM,EAAC7L,CAAC,GAAC,EAA7C;AAAgD8L,IAAAA,kBAAkB,EAAC5L,CAAnE;AAAqE6L,IAAAA,kBAAkB,EAAC3L,CAAxF;AAA0F4L,IAAAA,SAAS,EAAC1L,CAApG;AAAsGoI,IAAAA,KAAK,EAAClI,CAA5G;AAA8GmI,IAAAA,MAAM,EAACjI,CAArH;AAAuHwK,IAAAA,UAAU,EAACtK;AAAlI,GAAuI;AAAC,QAAIZ,CAAC,CAACiM,MAAN,IAAcC,OAAO,CAACC,IAAR,CAAa,yCAAb,CAAd;AAAsE,QAAK;AAACrE,IAAAA,KAAK,EAAC9G,CAAP;AAAS6G,IAAAA,MAAM,EAAC3G;AAAhB,MAAmB2D,CAAC,CAAC4C,EAAD,CAAzB;AAAA,QAA8BrG,CAAC,GAAC6C,CAAC,CAAE,MAAI,IAAI3B,CAAJ,CAAMtB,CAAN,EAAQE,CAAR,EAAU;AAAC8E,IAAAA,aAAa,EAACtG,CAAC,CAACwH,MAAjB;AAAwB4E,IAAAA,kBAAkB,EAAC5L,CAA3C;AAA6C6L,IAAAA,kBAAkB,EAAC3L,CAAhE;AAAkE4L,IAAAA,SAAS,EAAC1L,CAA5E;AAA8EoI,IAAAA,KAAK,EAAClI,CAApF;AAAsFmI,IAAAA,MAAM,EAACjI,CAA7F;AAA+FwK,IAAAA,UAAU,EAACtK;AAA1G,GAAV,CAAN,EAA+H,CAACM,CAAD,EAAGR,CAAH,EAAKJ,CAAL,EAAOM,CAAP,EAASR,CAAT,EAAWF,CAAX,EAAac,CAAb,EAAeR,CAAf,CAA/H,CAAjC;AAAmL,SAAO+D,CAAC,CAAE,MAAI;AAACnD,IAAAA,CAAC,CAACuJ,SAAF,CAAYlE,GAAZ,CAAgBC,KAAK,CAACC,OAAN,CAAc/G,CAAd,IAAiBA,CAAC,CAAC2L,GAAF,CAAO7L,CAAC,IAAEA,CAAC,CAACmJ,OAAZ,CAAjB,GAAuC,CAACjJ,CAAC,CAACiJ,OAAH,CAAvD;AAAoE,GAA3E,EAA6E,CAACzH,CAAD,EAAGxB,CAAH,CAA7E,CAAD,EAAqF2E,CAAC,CAAE,MAAI;AAACnD,IAAAA,CAAC,CAACuJ,SAAF,CAAYyB,KAAZ,GAAkBtM,CAAlB;AAAoB,GAA3B,EAA6B,CAACsB,CAAD,EAAGtB,CAAH,CAA7B,CAAtF,EAA0HyE,CAAC,CAAE,OAAKvE,CAAC,CAACqM,OAAF,CAAW3M,CAAC,IAAE,CAAC,CAACA,CAAD,EAAGE,CAAH,KAAO;AAACF,IAAAA,CAAC,CAACmJ,OAAF,IAAWnJ,CAAC,CAACmJ,OAAF,CAAUyD,MAAV,CAAiBC,MAAjB,CAAwB3M,CAAC,CAAC+K,SAAF,CAAYyB,KAApC,CAAX;AAAsD,GAA/D,EAAiE1M,CAAjE,EAAmE0B,CAAnE,CAAd,GAAsF,MAAIpB,CAAC,CAACqM,OAAF,CAAW3M,CAAC,IAAE,CAAC,CAACA,CAAD,EAAGE,CAAH,KAAO;AAACF,IAAAA,CAAC,CAACmJ,OAAF,IAAWnJ,CAAC,CAACmJ,OAAF,CAAUyD,MAAV,CAAiBE,OAAjB,CAAyB5M,CAAC,CAAC+K,SAAF,CAAYyB,KAArC,CAAX;AAAuD,GAAhE,EAAkE1M,CAAlE,EAAoE0B,CAApE,CAAd,CAA/F,CAAF,EAA0L,CAACA,CAAD,EAAGpB,CAAH,EAAKF,CAAL,CAA1L,CAA3H,EAA8T+D,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvF,CAAL;AAAOwF,IAAAA,MAAM,EAAClF,CAAd;AAAgBmF,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAArU;AAAgY,CAA5wB,CAAh/G;AAAA,MAA+vIkG,EAAE,GAAC3G,CAAC,CAACtD,CAAD,CAAnwI;AAAA,MAAuwIkK,EAAE,GAAC3I,CAAC,CAAE,UAASnE,CAAT,EAAWE,CAAX,EAAa;AAAC,QAAK;AAAC+H,IAAAA,MAAM,EAAC7H,CAAR;AAAUmJ,IAAAA,UAAU,EAACjJ;AAArB,MAAwB2E,CAAC,CAAC4C,EAAD,CAA9B;AAAA,QAAmCrH,CAAC,GAAC6D,CAAC,CAAE,MAAI,SAAO/D,CAAP,IAAUgM,OAAO,CAACS,KAAR,CAAc,0EAAd,GAA0F,IAApG,IAA0G,IAAIjK,CAAJ,CAAM1C,CAAN,EAAQE,CAAC,CAAC0M,YAAF,CAAenD,OAAvB,EAA+B;AAACzD,IAAAA,aAAa,EAACtG,CAAC,CAACmN,QAAjB;AAA0BC,IAAAA,OAAO,EAAC,EAAlC;AAAqCC,IAAAA,KAAK,EAAC,CAA3C;AAA6CC,IAAAA,iBAAiB,EAAC,CAA/D;AAAiEC,IAAAA,eAAe,EAAC,CAAjF;AAAmFC,IAAAA,cAAc,EAAC,EAAlG;AAAqGC,IAAAA,YAAY,EAAC,EAAlH;AAAqHC,IAAAA,kBAAkB,EAAC,EAAxI;AAA2IC,IAAAA,MAAM,EAAC,EAAlJ;AAAqJC,IAAAA,KAAK,EAAC,EAA3J;AAA8JC,IAAAA,IAAI,EAAC,EAAnK;AAAsK,OAAG3N;AAAzK,GAA/B,CAAhH,EAA6T,CAACI,CAAD,EAAGE,CAAH,EAAKN,CAAL,CAA7T,CAAtC;AAA4W,SAAOiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvG,CAAL;AAAOwG,IAAAA,MAAM,EAAClG,CAAd;AAAgBmG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAA9b,CAA3wI;AAAA,MAA4sJiH,EAAE,GAACzJ,CAAC,CAAE,kBAAuDjE,CAAvD,EAAyD;AAAA,MAAhD;AAAC2N,IAAAA,MAAM,EAAC/N,CAAC,GAACkD,CAAC,CAAC8K,IAAZ;AAAiBC,IAAAA,iBAAiB,EAAC/N,CAAC,GAACkD,CAAC,CAAC8K;AAAvC,GAAgD;AAAC,QAAM5N,CAAC,GAAC6F,CAAC,CAAC7C,CAAD,EAAG,EAAH,CAAT;AAAA,QAAgB9C,CAAC,GAAC+D,CAAC,CAAE,MAAI,IAAIf,CAAJ,CAAM,GAAGlD,CAAT,EAAWN,CAAX,EAAaE,CAAb,CAAN,EAAuB,CAACI,CAAD,EAAGN,CAAH,EAAKE,CAAL,CAAvB,CAAnB;AAAmD,SAAOiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACvG,CAAL;AAAOwG,IAAAA,MAAM,EAACpG,CAAd;AAAgBqG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAAjL,CAAhtJ;AAAA,MAAo4JsH,EAAE,GAAC9J,CAAC,CAAE,kBAAuC/D,CAAvC,EAAyC;AAAA,MAAhC;AAAC8N,IAAAA,UAAU,EAACpO,CAAZ;AAAc+J,IAAAA,OAAO,EAAC7J,CAAtB;AAAwB,OAAGE;AAA3B,GAAgC;AAAC,QAAMI,CAAC,GAAC2F,CAAC,CAACV,CAAD,EAAGzF,CAAH,CAAT;AAAeyE,EAAAA,CAAC,CAAE,MAAI;AAACjE,IAAAA,CAAC,CAAC6N,QAAF,GAAW1I,CAAX,EAAanF,CAAC,CAAC8N,KAAF,GAAQ9N,CAAC,CAAC+N,KAAF,GAAQ1I,CAA7B;AAA+B,GAAtC,EAAwC,CAACrF,CAAD,CAAxC,CAAD;AAA8C,QAAME,CAAC,GAAC6D,CAAC,CAAE,MAAI,IAAIb,CAAJ,CAAM,EAAC,GAAGtD,CAAJ;AAAM2J,IAAAA,OAAO,EAACvJ,CAAC,IAAEN;AAAjB,GAAN,CAAN,EAAkC,CAACE,CAAD,EAAGI,CAAH,EAAKN,CAAL,CAAlC,CAAT;AAAoD,SAAOiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACrG,CAAL;AAAOsG,IAAAA,MAAM,EAAClG,CAAd;AAAgBmG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAAP;AAAkE,CAA/N,CAAx4J;AAAA,MAA0mK2H,EAAE,GAACpI,CAAC,CAACxC,CAAD,CAA9mK;AAAA,MAAknK6K,EAAE,GAACrI,CAAC,CAACtC,CAAD,CAAtnK;AAAA,MAA0nK4K,EAAE,GAACtI,CAAC,CAACpC,CAAD,CAA9nK;AAAA,MAAkoK2K,EAAE,GAACtK,CAAC,CAAE,kBAAiD/D,CAAjD,EAAmD;AAAA,MAA1C;AAACsO,IAAAA,GAAG,EAAC5O,CAAL;AAAO6O,IAAAA,wBAAwB,EAAC3O,CAAhC;AAAkC,OAAGE;AAArC,GAA0C;AAAC,QAAMI,CAAC,GAAC+D,CAAC,CAAE,MAAI,IAAIL,CAAJ,CAAMlE,CAAN,EAAQI,CAAR,CAAN,EAAkB,CAACJ,CAAD,EAAGI,CAAH,CAAlB,CAAT;AAAkC,SAAOqE,CAAC,CAAE,MAAI;AAACzE,IAAAA,CAAC,IAAEQ,CAAC,CAACsO,MAAF,CAAS9O,CAAT,CAAH,EAAeE,CAAC,IAAEM,CAAC,CAACuO,kCAAF,CAAqC7O,CAArC,CAAlB;AAA0D,GAAjE,EAAmE,CAACM,CAAD,EAAGR,CAAH,EAAKE,CAAL,CAAnE,CAAD,EAA6EiE,CAAC,CAACuC,aAAF,CAAgB,WAAhB,EAA4B;AAACC,IAAAA,GAAG,EAACrG,CAAL;AAAOsG,IAAAA,MAAM,EAACpG,CAAd;AAAgBqG,IAAAA,OAAO,EAAC;AAAxB,GAA5B,CAApF;AAA+I,CAAvO,CAAtoK;;AAAg3K,SAAOU,EAAE,IAAIyH,KAAb,EAAmBvH,EAAE,IAAIwH,kBAAzB,EAA4CvH,EAAE,IAAIwH,mBAAlD,EAAsEtH,EAAE,IAAIuH,YAA5E,EAAyFtH,EAAE,IAAIuH,UAA/F,EAA0GtH,EAAE,IAAIuH,KAAhH,EAAsH1F,EAAE,IAAI2F,YAA5H,EAAyIrF,EAAE,IAAIsF,SAA/I,EAAyJvH,EAAE,IAAInH,cAA/J,EAA8KkH,EAAE,IAAIyH,qBAApL,EAA0MtF,EAAE,IAAIuF,MAAhN,EAAuN/E,EAAE,IAAIgF,OAA7N,EAAqO9E,EAAE,IAAI+E,IAA3O,EAAgP9E,EAAE,IAAI+E,aAAtP,EAAoQjB,EAAE,IAAIkB,GAA1Q,EAA8Q/E,EAAE,IAAIgF,KAApR,EAA0R9E,EAAE,IAAI+E,OAAhS,EAAwSjE,EAAE,IAAIkE,UAA9S,EAAyTlC,EAAE,IAAImC,IAA/T,EAAoUjD,EAAE,IAAIkD,IAA1U,EAA+UlE,EAAE,IAAImE,QAArV,EAA8VjE,EAAE,IAAIkE,cAApW,EAAmXrD,EAAE,IAAIsD,KAAzX,EAA+X3B,EAAE,IAAI4B,SAArY,EAA+YnC,EAAE,IAAIoC,OAArZ,EAA6Z/B,EAAE,IAAIgC,WAAna,EAA+a/B,EAAE,IAAIgC,QAArb","sourcesContent":["import{BlendFunction as e,BloomEffect as t,BrightnessContrastEffect as n,ChromaticAberrationEffect as r,ColorAverageEffect as i,ColorDepthEffect as o,DepthEffect as l,EffectComposer as c,RenderPass as s,NormalPass as a,EffectPass as u,DepthOfFieldEffect as d,DotScreenEffect as m,GlitchEffect as f,GlitchMode as p,GodRaysEffect as h,GridEffect as g,HueSaturationEffect as b,NoiseEffect as w,OutlineEffect as E,PixelationEffect as y,ScanlineEffect as v,SelectiveBloomEffect as S,SepiaEffect as x,SSAOEffect as T,SMAAPreset as j,EdgeDetectionMode as C,SMAAImageLoader as L,SMAAEffect as P,TextureEffect as A,ToneMappingEffect as R,VignetteEffect as O,ShockWaveEffect as z,LUTEffect as F}from\"postprocessing\";import B,{forwardRef as D,useMemo as I,useLayoutEffect as M,createContext as k,useEffect as N,useRef as _,useImperativeHandle as G,useContext as H}from\"react\";import{Vector2 as U,Vector3 as Y,TextureLoader as q,sRGBEncoding as V,RepeatWrapping as W}from\"three\";import{useThree as J,useFrame as K,useLoader as Q}from\"@react-three/fiber\";const X=(t,n=e.NORMAL)=>D((function({blendFunction:e,opacity:r,...i},o){const l=I((()=>new t(i)),[i]);return M((()=>{l.blendMode.blendFunction=e||n,void 0!==r&&(l.blendMode.opacity.value=r)}),[e,l.blendMode,r]),B.createElement(\"primitive\",{ref:o,object:l,dispose:null})})),Z=(e,t)=>{const n=e[t];return I((()=>{if(n instanceof U)return(new U).set(n.x,n.y);if(Array.isArray(n)){const[e,t]=n;return(new U).set(e,t)}}),[n])},$=()=>{try{const e=document.createElement(\"canvas\");return!(!window.WebGL2RenderingContext||!e.getContext(\"webgl2\"))}catch(e){return!1}},ee=X(t,e.SCREEN),te=X(n),ne=D((function(e,t){const n=Z(e,\"offset\"),i=I((()=>new r({...e,offset:n})),[n,e]);return B.createElement(\"primitive\",{ref:t,object:i,dispose:null})})),re=D((function({blendFunction:t=e.NORMAL},n){const r=I((()=>new i(t)),[t]);return B.createElement(\"primitive\",{ref:n,object:r,dispose:null})})),ie=X(o),oe=X(l),le=k(null),ce=B.memo(D((({children:e,camera:t,scene:n,renderPriority:r=1,autoClear:i=!0,depthBuffer:o,disableNormalPass:l,stencilBuffer:d,multisampling:m=8,frameBufferType:f},p)=>{const{gl:h,scene:g,camera:b,size:w}=J();n=n||g,t=t||b;const[E,y]=I((()=>{const e=new c(h,{depthBuffer:o,stencilBuffer:d,multisampling:$()?m:0,frameBufferType:f});e.addPass(new s(n,t));const r=l?null:new a(n,t);return r&&e.addPass(r),[e,r]}),[t,h,o,d,m,f,n,l]);N((()=>null==E?void 0:E.setSize(w.width,w.height)),[E,w]),K(((e,t)=>(h.autoClear=i,void E.render(t))),r);const v=_(null);N((()=>{let e;return v.current&&v.current.__r3f&&E&&(e=new u(t,...v.current.__r3f.objects),E.addPass(e),e.renderToScreen=!0),()=>{e&&(null==E||E.removePass(e))}}),[E,e,t]);const S=I((()=>({composer:E,normalPass:y,camera:t,scene:n})),[E,y,t,n]);return G(p,(()=>E),[E]),B.createElement(le.Provider,{value:S},B.createElement(\"group\",{ref:v},e))}))),se=D((function({target:e,depthTexture:t,...n},r){const{camera:i}=H(le),o=I((()=>new d(i,n)),[i,n]);return M((()=>{if(e){const t=e instanceof Y?(new Y).set(e.x,e.y,e.z):(new Y).set(e[0],e[1],e[2]);o.target=t}t&&o.setDepthTexture(t.texture,t.packing)}),[e,t,o]),B.createElement(\"primitive\",{ref:r,object:o,dispose:null})})),ae=X(m),ue=D((function({active:e=!0,...t},n){const r=Z(t,\"delay\"),i=Z(t,\"duration\"),o=Z(t,\"strength\"),l=I((()=>new f({...t,delay:r,duration:i,strength:o})),[r,i,t,o]);return M((()=>{l.mode=e?t.mode||p.SPORADIC:p.DISABLED}),[e,l,t.mode]),B.createElement(\"primitive\",{ref:n,object:l,dispose:null})})),de=D((function(e,t){const{camera:n}=H(le),r=I((()=>new h(n,e.sun,e)),[n,e]);return B.createElement(\"primitive\",{ref:t,object:r,dispose:null})})),me=D((function({size:e,...t},n){const r=I((()=>new g(t)),[t]);return M((()=>{e&&r.setSize(e.width,e.height)}),[r,e]),B.createElement(\"primitive\",{ref:n,object:r,dispose:null})})),fe=X(b),pe=X(w,e.COLOR_DODGE),he=D((function({selection:e=[],selectionLayer:t=10,blendFunction:n,patternTexture:r,edgeStrength:i,pulseSpeed:o,visibleEdgeColor:l,hiddenEdgeColor:c,width:s,height:a,kernelSize:u,blur:d,xRay:m,...f},p){const{scene:h,camera:g}=H(le),b=I((()=>new E(h,g,{blendFunction:n,patternTexture:r,edgeStrength:i,pulseSpeed:o,visibleEdgeColor:l,hiddenEdgeColor:c,width:s,height:a,kernelSize:u,blur:d,xRay:m})),[n,d,g,i,a,c,u,r,o,h,l,s,m]);return N((()=>{b.clearSelection(),b.setSelection(Array.isArray(e)?e.map((e=>e.current)):[e.current])}),[b,e]),N((()=>{b.selectionLayer=t}),[b,t]),B.createElement(\"primitive\",{ref:p,object:b,dispose:null})})),ge=D((function({granularity:e=5},t){const n=I((()=>new y(e)),[e]);return B.createElement(\"primitive\",{ref:t,object:n,dispose:null})})),be=X(v,e.OVERLAY),we=D((function({selection:t=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:o,intensity:l,width:c,height:s,kernelSize:a},u){0===r.length&&console.warn(\"SelectiveBloom requires lights to work.\");const{scene:d,camera:m}=H(le),f=I((()=>new S(d,m,{blendFunction:e.SCREEN,luminanceThreshold:i,luminanceSmoothing:o,intensity:l,width:c,height:s,kernelSize:a})),[m,s,l,a,o,i,d,c]);return N((()=>{f.selection.set(Array.isArray(t)?t.map((e=>e.current)):[t.current])}),[f,t]),N((()=>{f.selection.layer=n}),[f,n]),N((()=>(r.forEach((e=>((e,t)=>{e.current&&e.current.layers.enable(t.selection.layer)})(e,f))),()=>r.forEach((e=>((e,t)=>{e.current&&e.current.layers.disable(t.selection.layer)})(e,f))))),[f,r,n]),B.createElement(\"primitive\",{ref:u,object:f,dispose:null})})),Ee=X(x),ye=D((function(t,n){const{camera:r,normalPass:i}=H(le),o=I((()=>null===i?(console.error(\"Please enable the NormalPass in the EffectComposer in order to use SSAO.\"),null):new T(r,i.renderTarget.texture,{blendFunction:e.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5,...t})),[r,i,t]);return B.createElement(\"primitive\",{ref:n,object:o,dispose:null})})),ve=D((function({preset:e=j.HIGH,edgeDetectionMode:t=C.COLOR},n){const r=Q(L,\"\"),i=I((()=>new P(...r,e,t)),[r,e,t]);return B.createElement(\"primitive\",{ref:n,object:i,dispose:null})})),Se=D((function({textureSrc:e,texture:t,...n},r){const i=Q(q,e);M((()=>{i.encoding=V,i.wrapS=i.wrapT=W}),[i]);const o=I((()=>new A({...n,texture:i||t})),[n,i,t]);return B.createElement(\"primitive\",{ref:r,object:o,dispose:null})})),xe=X(R),Te=X(O),je=X(z),Ce=D((function({lut:e,tetrahedralInterpolation:t,...n},r){const i=I((()=>new F(e,n)),[e,n]);return M((()=>{e&&i.setLUT(e),t&&i.setTetrahedralInterpolationEnabled(t)}),[i,e,t]),B.createElement(\"primitive\",{ref:r,object:i,dispose:null})}));export{ee as Bloom,te as BrightnessContrast,ne as ChromaticAberration,re as ColorAverage,ie as ColorDepth,oe as Depth,se as DepthOfField,ae as DotScreen,ce as EffectComposer,le as EffectComposerContext,ue as Glitch,de as GodRays,me as Grid,fe as HueSaturation,Ce as LUT,pe as Noise,he as Outline,ge as Pixelation,ve as SMAA,ye as SSAO,be as Scanline,we as SelectiveBloom,Ee as Sepia,je as ShockWave,Se as Texture,xe as ToneMapping,Te as Vignette};\n"]},"metadata":{},"sourceType":"module"}